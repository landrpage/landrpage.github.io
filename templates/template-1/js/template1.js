var e=1;var t="";var i=20;var a=10;var s=24;var r="";var o="";$("#add-feature-section").click(function(){var e=$(".feature-section");if(e.length<s){var t='<div class="feature-section pl-5 pt-3 pb-3 pr-3" style="border-bottom: 5px solid #e0e5ee; padding-bottom: 0px">';t+='<div class="form-group row mb-2"> <label class="col-sm-3 col-form-label">Feature Name</label> <div class="col-md-8 col-sm-8 mb-1 pt-2" data-children-count="1"> <input type="text" class="form-control form-control-sm feature-name" placeholder="Feature name" maxlength="100" required=""> <div class="invalid-feedback">Please provide a feature name.</div> </div> </div> <div class="form-group row mb-0"> <label class="col-sm-3 col-form-label">Feature Image Link</label> <div class="col-md-8 col-sm-8 pt-2 pb-1"> <div class="input-group mb-3 input-group-sm" data-children-count="1"> <div class="input-group-prepend"><span class="input-group-text" id="basic-addon3" data-children-count="0">https://</span></div> <input type="text" class="form-control form-control-sm feature-image-url" placeholder="Suggested image size: 400x400 image"> <div class="invalid-feedback">Please provide a link.</div> </div> </div> </div> <div class="form-group row mb-0"> <label class="col-sm-3 col-form-label">Feature Description</label> <div class="col-md-8 col-sm-8 mb-3 pt-2" data-children-count="1"> <textarea class="form-control form-control-sm feature-description" maxlength="500" rows="4" required=""></textarea> <div class="invalid-feedback">Please provide feature description.</div> </div> </div> <div class="d-flex justify-content-end"><button type="button" class="btn btn-sm btn-outline-danger delete-feature-section">Remove Feature</button></div> </div>';$("#feature-sections-container").append(t)}l()});function l(){$(".delete-feature-section").click(function(e){var t=e.target;$(t).parent().parent().remove()});$(".feature-image-url").keyup(function(){u(this)})}l();function n(){$(".delete-main-section").click(function(e){var t=e.target;$(t).parent().parent().remove()});$(".section-image-url").keyup(function(){u(this)});$(".feature-image-url").keyup(function(){u(this)})}function c(){$(".delete-testimonials-section").click(function(e){var t=e.target;$(t).parent().parent().remove()});$(".user-image-url").keyup(function(){u(this)})}$("#add-main-section").click(function(){var e=$(".main-section");if(e.length<i){var t='<div class="main-section pl-5 pt-3 pb-3 pr-3" style="border-bottom: 5px solid #e0e5ee; padding-bottom: 0px">';t+='<div class="form-group row mb-0"><label class="col-sm-3 col-form-label">Section Header</label><div class="col-md-8 col-sm-8 mb-2 pt-1 pb-1" data-children-count="1"><input type="text" class="form-control form-control-sm section-header" placeholder="Section header" maxlength="200" required=""><div class="invalid-feedback">Please provide a section name.</div></div></div><div class="form-group row mb-0"><label class="col-sm-3 col-form-label">Section Image Link</label><div class="col-md-8 col-sm-8 pt-2 pb-1"><div class="input-group mb-3 input-group-sm" data-children-count="1"><div class="input-group-prepend"><span class="input-group-text" id="basic-addon3" data-children-count="0">https://</span></div><input type="text" class="form-control form-control-sm section-image-url"><div class="invalid-feedback">Please provide a link.</div></div></div></div><div class="form-group row mb-0"><label class="col-sm-3 col-form-label pt-1">Section Description</label><div class="col-md-8 col-sm-8 mb-3 pt-1" data-children-count="1"><textarea class="form-control form-control-sm section-description" maxlength="10000" rows="6" required=""></textarea><div class="invalid-feedback">Please provide section description.</div></div></div><div class="d-flex justify-content-end"><button type="button" class="btn btn-sm btn-outline-danger delete-main-section">Remove Section</button></div></div>';$("#main-sections-container").append(t)}n()});$("#add-testimonials-section").click(function(){var e=$(".testimonials-section");if(e.length<a){var t='<div class="testimonials-section pl-5 pt-3 pb-3 pr-3" style="border-bottom: 5px solid #e0e5ee; padding-bottom: 0px"> <div class="form-group row mb-2"> <label class="col-sm-3 col-form-label">Given By</label> <div class="col-md-8 col-sm-8 mb-1 pt-2" data-children-count="1"> <input type="text" maxlength="200" class="form-control form-control-sm given-by" required=""> <div class="invalid-feedback">Please provide a name.</div> </div> </div> <div class="form-group row mb-0"> <label class="col-sm-3 col-form-label">User Image</label> <div class="col-md-8 col-sm-8 pt-2 pb-1"> <div class="input-group mb-3 input-group-sm" data-children-count="1"> <div class="input-group-prepend"><span class="input-group-text" id="basic-addon3" data-children-count="0">https://</span></div> <input type="text" class="form-control form-control-sm user-image-url"> <div class="invalid-feedback">Please provide a link.</div> </div> </div> </div> <div class="form-group row mb-0"> <label class="col-sm-3 col-form-label">Testimonial</label> <div class="col-md-8 col-sm-8 mb-3 pt-2" data-children-count="1"> <textarea class="form-control form-control-sm testimonial-text" maxlength="1000" rows="4" required=""></textarea> <div class="invalid-feedback">Please provide testimonial.</div> </div> </div> <div class="d-flex justify-content-end"><button type="button" class="btn btn-sm btn-outline-danger delete-testimonials-section">Remove Testimonial</button></div></div>';$("#testimonials-sections-container").append(t)}c()});n();c();function d(){$("#delete-newsletter-section").click(function(){$("#newsletter-section-container").html("")})}$("#add-newsletter-section").click(function(){$("#newsletter-section-container").html('<div id="newsletter-section" class="pl-5 pt-3 pb-3 pr-3" style="border-bottom: 5px solid #e0e5ee; padding-bottom: 0px;"><div class="form-group row mb-2"><label class="col-sm-3 col-form-label">Header</label> <div class="col-md-8 col-sm-8 mb-1 pt-2" data-children-count="1"><input id="newsletter-header" type="text" class="form-control form-control-sm" placeholder="" maxlength="200" required=""> <div class="invalid-feedback">Please provide a header.</div></div></div><div class="form-group row mb-2"><label class="col-sm-3 col-form-label">Description</label> <div class="col-md-8 col-sm-8 mb-1 pt-2" data-children-count="1"><input id="newsletter-description" type="text" class="form-control form-control-sm" placeholder="" maxlength="500" required=""> <div class="invalid-feedback">Please provide a description.</div></div></div><div class="form-group row mb-2"><label class="col-sm-3 col-form-label">Access Key</label> <div class="col-md-8 col-sm-8 mb-1 pt-2" data-children-count="1"><input id="newsletter-accesskey" type="text" class="form-control form-control-sm" placeholder="" maxlength="500" required=""> <div class="invalid-feedback">Please provide an access key.</div><div class="alert alert-primary mt-2 mb-0" role="alert" id="newsletter-accesskey-info"><strong>StaticForms</strong> is an awesome tool which sends unlimited emails for free from your website. Go to <a target="_blank" href="https://www.staticforms.xyz/">staticforms.xyz</a> to get your access key.</div></div></div><div class="form-group row mb-2"><label class="col-sm-3 col-form-label">Email Subject</label><div class="col-md-8 col-sm-8 mb-1 pt-2" data-children-count="1"><input id="newsletter-email-subject" type="text" class="form-control form-control-sm" maxlength="250" placeholder="New User Subscribed!" required=""> <div class="invalid-feedback">Please provide email subject.</div></div></div><div id="delete-newsletter-section" class="d-flex justify-content-end"><button type="button" class="btn btn-sm btn-outline-danger">Remove Newsletter</button></div></div>');d()});function m(e){var t=e;$(t).parent().parent().parent().remove()}function f(){var e=$("#company-name").val().trim();var t=$("#product-name").val().trim();var i=$("#product-tagline").val().trim();var a=$("#website-name").val().trim();if(a){a=a.replace("https://landr.page/","")}var s=$("#cover-image-link").val().trim();if(s){s="https://"+s.replace("https://","")}var r=$("#logo-image-url").val().trim();var o="";if(r){o="https://"+r.replace("https://","")}var l=$("#about-company-details").val().trim();var n=$("#company-address").val().trim();var c=$("#contact-email").val().trim();var d=$("#facebook-profile").val().trim();if(d){d="https://"+d.replace("https://","")}var m=$("#twitter-profile").val().trim();if(m){m="https://"+m.replace("https://","")}var p=$("#instagram-profile").val().trim();if(p){p="https://"+p.replace("https://","")}var v=$("#linkedin-profile").val().trim();if(v){v="https://"+v.replace("https://","")}var u=$(".feature-section");var f=[];for(var b=0;b<u.length;++b){var h={};var y=$(u[b]).find(".feature-name").val().trim();var g=$(u[b]).find(".feature-description").val().trim();var r=$(u[b]).find(".feature-image-url").val().trim();h["header"]=y;h["description"]=g;if(r){var w="https://"+r;h["image_url"]=w}f.push(h)}var _=$(".main-section");var k=[];for(var b=0;b<_.length;++b){var x={};var N=$(_[b]).find(".section-header").val().trim();var j=$(_[b]).find(".section-description").val().trim();var r=$(_[b]).find(".section-image-url").val().trim();x["header"]=N;x["description"]=j;if(r){var w="https://"+r;x["image_url"]=w}k.push(x)}var O=$(".testimonials-section");var D=[];for(var b=0;b<O.length;++b){var L={};var N=$(O[b]).find(".given-by").val().trim();var j=$(O[b]).find(".testimonial-text").val().trim();var r=$(O[b]).find(".user-image-url").val().trim();L["given_by"]=N;L["testimonial"]=j;if(r){var w="https://"+r;L["image_url"]=w}D.push(L)}var S=$("#add-pricing-component").prop("checked");var P=$("#add-customers-component").prop("checked");var T=$("#product-video-url").val().trim();var A=$("#video-description").val().trim();var E={video_url:T,video_description:A};var C={};if($("#newsletter-accesskey").val()){C={header:$("#newsletter-header").val().trim(),description:$("#newsletter-description").val().trim(),access_key:$("#newsletter-accesskey").val().trim(),subject:$("#newsletter-email-subject").val().trim()}}websiteDetails={company_name:e,product_name:t,website_name:a,product_description:i,product_image_url:s,logo_image_url:o,facebook_profile:d,twitter_profile:m,instagram_profile:p,linkedin_profile:v,feature_sections:f,description_sections:k,add_pricing_component:S,add_customers_section:P,testimonial_sections:D,video_details:E,newsletter_section:C,about_company_details:l,company_address:n,contact_email:c,template_id:1};return websiteDetails}function p(){var e=f();var t=$("#verify-details-carousel");$(t).find("#company-name-verify").html(e["company_name"]);$(t).find("#product-name-verify").html(e["product_name"]);$(t).find("#website-name-verify").html("https://landr.page/"+e["website_name"]);$(t).find("#product-description-verify").html(e["product_description"]);$(t).find("#about-company-details-verify").html(e["about_company_details"]);$(t).find("#cover-image-link-verify").html(e["product_image_url"]);$(t).find("#company-address-verify").html(e["company_address"]);$(t).find("#contact-email-verify").html(e["contact_email"]);$(t).find("#logo-image-url-verify").html(e["logo_image_url"]);$(t).find("#facebook-profile-verify").html(e["facebook_profile"]);$(t).find("#twitter-profile-verify").html(e["twitter_profile"]);$(t).find("#instagram-profile-verify").html(e["instagram_profile"]);$(t).find("#linkedin-profile-verify").html(e["linkedin_profile"]);var i=$("#add-pricing-component").prop("checked");var a="No";if(i){a="Yes"}$(t).find("#pricing-component-verify").html(a);var s="No";i=$("#add-customers-component").prop("checked");if(i){s="Yes"}$(t).find("#customers-component-verify").html(s);var r=e["video_details"];if(r["video_url"]){$("#video-details-verify .description").html(r["video_description"]);$("#video-details-verify .url").html(r["video_url"]);$("#video-details-verify").css("display","block")}var o=$("#feature-sections-verify");var l="";for(var n=0;n<e["feature_sections"].length;++n){l+="<tr>";l+='<th style="width: 30%" scope="row">'+e["feature_sections"][n]["header"]+"</th>";l+='<td style="width: 30%">'+e["feature_sections"][n]["description"]+"</td>";var c=e["feature_sections"][n]["image_url"];if(!c)c="";l+='<td style="width: 30%">'+c+"</td>";l+="</tr>"}$(o).html(l);var d=$("#main-sections-verify");var m="";for(var n=0;n<e["description_sections"].length;++n){m+="<tr>";m+='<th style="width: 30%" scope="row">'+e["description_sections"][n]["header"]+"</th>";m+='<td style="width: 30%">'+e["description_sections"][n]["description"]+"</td>";var c=e["description_sections"][n]["image_url"];if(!c)c="";m+='<td style="width: 30%">'+c+"</td>";m+="</tr>"}$(d).html(m);var p=$("#user-testimonials-verify");var v="";for(var n=0;n<e["testimonial_sections"].length;++n){v+="<tr>";v+='<th style="width: 30%" scope="row">'+e["testimonial_sections"][n]["given_by"]+"</th>";v+='<td style="width: 30%">'+e["testimonial_sections"][n]["testimonial"]+"</td>";var c=e["testimonial_sections"][n]["image_url"];if(!c)c="";v+='<td style="width: 30%">'+c+"</td>";v+="</tr>"}$(p).html(v);var u=e["newsletter_section"];if(u["access_key"]){$("#newsletter-details-verify .header").html(u["header"]);$("#newsletter-details-verify .description").html(u["description"]);$("#newsletter-details-verify .access-key").html(u["access_key"]);$("#newsletter-details-verify .email-subject").html(u["subject"]);$("#newsletter-details-verify").css("display","block")}$(".carousel").carousel("next",{interval:false})}$("#go-back-to-main-page").click(function(){$(".carousel").carousel("prev",{interval:false});o=""});$("#go-back-to-verify-details-page").click(function(){$(".carousel").carousel("prev",{interval:false})});$("#go-next-verify-details-page").click(function(){$(".carousel").carousel("next",{interval:false})});$("#live-preview").click(function(){$("#spinnerLoaderOverlay").css("display","block");if(o!=""){$("#spinnerLoaderOverlay").css("display","none");var e=LANDR_FRONTEND_HOST+"/templates/template-1/preview?uuid="+o;window.open(e,"_blank");return}var t=LANDR_BACKEND_HOST+"/website/session/details/";var i=f();var a=JSON.stringify(i);$.ajax({type:"POST",url:t,data:a,crossDomain:true,dataType:"json",contentType:"application/json",headers:{Authorization:"Basic dXNlcjpwYXNz"},success:function(e){$("#spinnerLoaderOverlay").css("display","none");o=e["website_details"]["uuid"];r=e["website_details"]["stripe_session_id"];var t=LANDR_FRONTEND_HOST+"/templates/template-1/preview?uuid="+o;window.open(t,"_blank")},error:function(e){$("#spinnerLoaderOverlay").css("display","none");console.log("Error: ",e)}})});(function(){"use strict";window.addEventListener("load",function(){var e=document.getElementsByClassName("needs-validation");var t=Array.prototype.filter.call(e,function(a){a.addEventListener("submit",function(e){if(a.checkValidity()===false){e.preventDefault();e.stopPropagation();a.classList.add("was-validated")}else{e.preventDefault();e.stopPropagation();$("#spinnerLoaderOverlay").css("display","block");var t=$("#website-name").val().trim();var i=LANDR_BACKEND_HOST+"/website/details?website_name="+t;$.ajax({type:"GET",url:i,crossDomain:true,dataType:"json",Accept:"application/json",headers:{Authorization:"Basic dXNlcjpwYXNz"},success:function(e){$("#spinnerLoaderOverlay").css("display","none");console.log(e);if(e){$("#website-name").next().html("A website with this name already exists");$("#website-name").addClass("is-invalid")}else{$("#website-name").next().html("Please provide a website name.");$("#website-name").removeClass("is-invalid");p()}},error:function(e){$("#website-name").next().html("A website with this name already exists");$("#website-name").addClass("is-invalid")}})}},false)})},false)})();function v(){var e=Stripe("pk_test_U2YBaLvYoPekG8YH4O4rkD7v00G027OFlm");e.redirectToCheckout({sessionId:r}).then(function(e){})}$("#payment-button").click(function(){$("#spinnerLoaderOverlay").css("display","block");if(!r){var e=LANDR_BACKEND_HOST+"/website/session/details/";var t=f();var i=JSON.stringify(t);$.ajax({type:"POST",url:e,data:i,crossDomain:true,dataType:"json",contentType:"application/json",headers:{Authorization:"Basic dXNlcjpwYXNz"},success:function(e){$("#spinnerLoaderOverlay").css("display","none");o=e["website_details"]["uuid"];r=e["website_details"]["stripe_session_id"];v()},error:function(e){$("#spinnerLoaderOverlay").css("display","none");console.log("Error: ",e)}})}else{$("#spinnerLoaderOverlay").css("display","none");v()}});function u(e){var t=e.value;t=t.replace("https://","");e.value=t}$(".section-image-url").keyup(function(){u(this)});$(".feature-image-url").keyup(function(){u(this)});$(".url-input-field").keyup(function(){u(this)});$.fn.regexMask=function(a){$(this).keypress(function(e){if(!e.charCode)return true;var t=this.value.substring(0,this.selectionStart);var i=this.value.substring(this.selectionEnd,this.value.length);if(!a.test(t+String.fromCharCode(e.charCode)+i))return false})};var b=new RegExp("^[A-Za-z0-9-]*$");$("#website-name").regexMask(b);$("#add-pricing-component").change(function(){var e=$(this).prop("checked");if(e){$("#pricing-component-info").css("display","block")}else{$("#pricing-component-info").css("display","none")}});$("#add-customers-component").change(function(){var e=$(this).prop("checked");if(e){$("#customers-component-info").css("display","block")}else{$("#customers-component-info").css("display","none")}});